<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Customizable 4-Panel Dashboard</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      font-family: Arial, sans-serif;
    }
    #controls {
      display: flex;
      flex-wrap: wrap;
      background: #222;
      color: white;
      padding: 5px;
      gap: 5px;
      align-items: center;
    }
    #controls input {
      width: 150px;
    }
    #controls button, select {
      padding: 5px;
    }
    .container {
      display: grid;
      grid-template-columns: 1fr 5px 1fr;
      grid-template-rows: 1fr 5px 1fr;
      height: calc(100vh - 50px);
      width: 100%;
    }
    .pane {
      background: #f0f0f0;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #ddd;
    }
    .divider {
      background: #bbb;
      z-index: 10;
    }
    .divider.row {
      cursor: row-resize;
      grid-column: 1 / 4;
    }
    .divider.col {
      cursor: col-resize;
      grid-row: 1 / 4;
    }
  </style>
</head>
<body>

<div id="controls">
  <input id="url1" placeholder="URL for Panel 1">
  <input id="url2" placeholder="URL for Panel 2">
  <input id="url3" placeholder="URL for Panel 3">
  <input id="url4" placeholder="URL for Panel 4">
  <button onclick="saveURLs()">ðŸ’¾ Save</button>
  <button onclick="loadURLs()">ðŸ”„ Load</button>
  <label for="layoutSelect">Layout:</label>
  <select id="layoutSelect" onchange="switchLayout(this.value)">
    <option value="2x2">2Ã—2</option>
    <option value="1x4">1Ã—4</option>
    <option value="4x1">4Ã—1</option>
  </select>
</div>

<div class="container" id="dashboard">
  <div id="pane1" class="pane"><iframe id="iframe1"></iframe></div>
  <div class="divider col" id="colResizer"></div>
  <div id="pane2" class="pane"><iframe id="iframe2"></iframe></div>
  <div class="divider row" id="rowResizer"></div>
  <div id="pane3" class="pane"><iframe id="iframe3"></iframe></div>
  <div class="divider col" id="colResizer2"></div>
  <div id="pane4" class="pane"><iframe id="iframe4"></iframe></div>
</div>

<script>
  const container = document.getElementById("dashboard");

  let isDraggingCol = false;
  let isDraggingRow = false;

  const colResizer = document.getElementById("colResizer");
  const colResizer2 = document.getElementById("colResizer2");
  const rowResizer = document.getElementById("rowResizer");

  // Mouse + touch support for drag resize
  function setupResizer(resizer, isCol) {
    const moveHandler = (e) => {
      const clientX = e.clientX || (e.touches && e.touches[0].clientX);
      const clientY = e.clientY || (e.touches && e.touches[0].clientY);
      if (isCol) {
        const percent = (clientX / window.innerWidth) * 100;
        container.style.gridTemplateColumns = `${percent}% 5px ${100 - percent}%`;
      } else {
        const percent = ((clientY - 50) / (window.innerHeight - 50)) * 100;
        container.style.gridTemplateRows = `${percent}% 5px ${100 - percent}%`;
      }
    };
    const stopDrag = () => {
      document.removeEventListener("mousemove", moveHandler);
      document.removeEventListener("mouseup", stopDrag);
      document.removeEventListener("touchmove", moveHandler);
      document.removeEventListener("touchend", stopDrag);
    };
    resizer.addEventListener("mousedown", (e) => {
      document.addEventListener("mousemove", moveHandler);
      document.addEventListener("mouseup", stopDrag);
    });
    resizer.addEventListener("touchstart", (e) => {
      document.addEventListener("touchmove", moveHandler);
      document.addEventListener("touchend", stopDrag);
    });
  }

  setupResizer(colResizer, true);
  setupResizer(colResizer2, true);
  setupResizer(rowResizer, false);

  function saveURLs() {
    const urls = [
      document.getElementById("url1").value,
      document.getElementById("url2").value,
      document.getElementById("url3").value,
      document.getElementById("url4").value
    ];
    localStorage.setItem("dashboardURLs", JSON.stringify(urls));
    updateIframes();
  }

  function loadURLs() {
    const saved = localStorage.getItem("dashboardURLs");
    if (saved) {
      const urls = JSON.parse(saved);
      document.getElementById("url1").value = urls[0];
      document.getElementById("url2").value = urls[1];
      document.getElementById("url3").value = urls[2];
      document.getElementById("url4").value = urls[3];
      updateIframes();
    }
  }

  function updateIframes() {
    ["1", "2", "3", "4"].forEach(n => {
      const url = document.getElementById("url" + n).value;
      const iframe = document.getElementById("iframe" + n);
      if (url) {
        iframe.src = url;
      }
    });
  }

  function switchLayout(layout) {
    let html = "";
    switch (layout) {
      case "1x4":
        container.style.gridTemplateColumns = "1fr 5px 1fr 5px 1fr 5px 1fr";
        container.style.gridTemplateRows = "1fr";
        html = `
          <div id="pane1" class="pane"><iframe id="iframe1"></iframe></div>
          <div class="divider col" id="colResizer"></div>
          <div id="pane2" class="pane"><iframe id="iframe2"></iframe></div>
          <div class="divider col" id="colResizer2"></div>
          <div id="pane3" class="pane"><iframe id="iframe3"></iframe></div>
          <div class="divider col"></div>
          <div id="pane4" class="pane"><iframe id="iframe4"></iframe></div>
        `;
        break;
      case "4x1":
        container.style.gridTemplateColumns = "1fr";
        container.style.gridTemplateRows = "1fr 5px 1fr 5px 1fr 5px 1fr";
        html = `
          <div id="pane1" class="pane"><iframe id="iframe1"></iframe></div>
          <div class="divider row" id="rowResizer"></div>
          <div id="pane2" class="pane"><iframe id="iframe2"></iframe></div>
          <div class="divider row"></div>
          <div id="pane3" class="pane"><iframe id="iframe3"></iframe></div>
          <div class="divider row"></div>
          <div id="pane4" class="pane"><iframe id="iframe4"></iframe></div>
        `;
        break;
      default:
        container.style.gridTemplateColumns = "1fr 5px 1fr";
        container.style.gridTemplateRows = "1fr 5px 1fr";
        html = `
          <div id="pane1" class="pane"><iframe id="iframe1"></iframe></div>
          <div class="divider col" id="colResizer"></div>
          <div id="pane2" class="pane"><iframe id="iframe2"></iframe></div>
          <div class="divider row" id="rowResizer"></div>
          <div id="pane3" class="pane"><iframe id="iframe3"></iframe></div>
          <div class="divider col" id="colResizer2"></div>
          <div id="pane4" class="pane"><iframe id="iframe4"></iframe></div>
        `;
    }
    container.innerHTML = html;
    // Re-hook up resizers
    setupResizer(document.getElementById("colResizer"), true);
    setupResizer(document.getElementById("colResizer2"), true);
    setupResizer(document.getElementById("rowResizer"), false);
    updateIframes();
  }

  window.onload = loadURLs;
</script>

</body>
</html>